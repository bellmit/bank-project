plugins {
  id "org.springframework.boot" version "2.6.0"
  id "java"
  id "checkstyle"
}

group 'com.epam.bank'
version '0.0.1'
sourceCompatibility = '11'

repositories {
  mavenCentral()
}

dependencies {
  implementation(project(":migration"))
  // Importing BOM
  implementation(platform(project(":bom")))
  annotationProcessor(platform(project(":bom"))) // importing bom for annotation processors
  testAnnotationProcessor(platform(project(":bom"))) // importing bom for annotation processors
  implementation platform("org.springframework.boot:spring-boot-dependencies")
  // From Spring BOM
  implementation "org.springframework.boot:spring-boot-starter-web"
  implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
  implementation 'org.springframework.boot:spring-boot-starter-validation'

  //Security
  implementation 'org.springframework.boot:spring-boot-starter-security'
  implementation 'io.jsonwebtoken:jjwt'
  
  // Hibernate
  implementation 'org.hibernate:hibernate-core'

  // Other
  compileOnly "org.projectlombok:lombok"
  implementation "org.apache.commons:commons-lang3"
  implementation 'org.liquibase:liquibase-core'
  implementation 'org.postgresql:postgresql'

  // Test
  testImplementation "org.springframework.boot:spring-boot-starter-test"
  testImplementation "org.junit.jupiter:junit-jupiter-api"
  testImplementation "org.junit.jupiter:junit-jupiter-engine"
  testImplementation "org.assertj:assertj-core"
  testCompileOnly "org.projectlombok:lombok"

  // Integration tests only
  integrationTestImplementation "io.rest-assured:spring-mock-mvc"

  // Annotation processors
  annotationProcessor "org.projectlombok:lombok"
  testAnnotationProcessor "org.projectlombok:lombok"
}

test {
  useJUnitPlatform()
}
